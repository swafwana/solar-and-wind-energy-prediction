{#<!DOCTYPE html>#}
{#<html lang="en">#}
{#<head>#}
{#  <meta charset="UTF-8">#}
{#  <title>Solar Energy Prediction</title>#}
{#  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">#}
{#</head>#}
{##}
{#<body>#}
{#  <div class="container mt-4">#}
{#    <h2 class="mb-4">Solar Energy Prediction</h2>#}
{##}
{#    <form id="solarForm">#}
{#      {% csrf_token %}#}
{##}
{#      <div class="row mb-3">#}
{#        <label class="col-sm-4">Date</label>#}
{#        <div class="col-sm-8">#}
{#          <input type="date" class="form-control" id="date" required>#}
{#        </div>#}
{#      </div>#}
{##}
{#      <div class="row mb-3">#}
{#        <label class="col-sm-4">Time</label>#}
{#        <div class="col-sm-8">#}
{#          <input type="time" class="form-control" id="timestamp" required>#}
{#        </div>#}
{#      </div>#}
{##}
{#      <div class="row mb-3">#}
{#        <label class="col-sm-4">Apparent Temperature</label>#}
{#        <div class="col-sm-8">#}
{#          <input type="text" class="form-control" id="apparenttemperature" required>#}
{#        </div>#}
{#      </div>#}
{##}
{#      <div class="row mb-3">#}
{#        <label class="col-sm-4">Air Temperature</label>#}
{#        <div class="col-sm-8">#}
{#          <input type="text" class="form-control" id="airtemperature" required>#}
{#        </div>#}
{#      </div>#}
{##}
{#      <div class="row mb-3">#}
{#        <label class="col-sm-4">DewPoint Temperature</label>#}
{#        <div class="col-sm-8">#}
{#          <input type="text" class="form-control" id="dewpointtemperature" required>#}
{#        </div>#}
{#      </div>#}
{##}
{#      <div class="row mb-3">#}
{#        <label class="col-sm-4">Relative Humidity</label>#}
{#        <div class="col-sm-8">#}
{#          <input type="text" class="form-control" id="relativehumidity" required>#}
{#        </div>#}
{#      </div>#}
{##}
{#      <div class="row mb-3">#}
{#        <label class="col-sm-4">Wind Speed</label>#}
{#        <div class="col-sm-8">#}
{#          <input type="text" class="form-control" id="windspeed" required>#}
{#        </div>#}
{#      </div>#}
{##}
{#      <div class="row mb-3">#}
{#        <label class="col-sm-4">Wind Direction</label>#}
{#        <div class="col-sm-8">#}
{#          <input type="text" class="form-control" id="winddirection" required>#}
{#        </div>#}
{#      </div>#}
{##}
{#      <div class="row mb-3">#}
{#        <div class="offset-sm-4 col-sm-8">#}
{#          <button type="button" onclick="generateSolar()" class="btn btn-primary">#}
{#            Generate Solar Energy#}
{#          </button>#}
{#        </div>#}
{#      </div>#}
{##}
{#      <h4 id="result" class="text-success"></h4>#}
{##}
{#    </form>#}
{#  </div>#}
{##}
{##}
{#<script>#}
{#function generateSolar() {#}
{##}
{#    const csrfToken = document.querySelector('[name=csrfmiddlewaretoken]').value;#}
{##}
{#    const data = {#}
{#        date: document.getElementById("date").value,#}
{#        timestamp: document.getElementById("timestamp").value,#}
{#        apparenttemperature: document.getElementById("apparenttemperature").value,#}
{#        airtemperature: document.getElementById("airtemperature").value,#}
{#        dewpointtemperature: document.getElementById("dewpointtemperature").value,#}
{#        relativehumidity: document.getElementById("relativehumidity").value,#}
{#        windspeed: document.getElementById("windspeed").value,#}
{#        winddirection: document.getElementById("winddirection").value#}
{#    };#}
{##}
{#    fetch("/myapp/solarinput_post/", {#}
{#        method: "POST",#}
{#        headers: {#}
{#            "Content-Type": "application/json",#}
{#            "X-CSRFToken": csrfToken#}
{#        },#}
{#        body: JSON.stringify(data)#}
{#    })#}
{#    .then(response => response.json())#}
{#    .then(result => {#}
{#        document.getElementById("result").innerHTML =#}
{#            "Expected Solar Generation: " + result.solar_generation + " kWh";#}
{#    })#}
{#    .catch(error => {#}
{#        document.getElementById("result").innerHTML = "Error generating prediction";#}
{#        console.error(error);#}
{#    });#}
{#}#}
{#</script>#}
{##}
{#</body>#}
{#</html>#}
{#<!DOCTYPE html>#}
{#<html lang="en">#}
{#<head>#}
{#  <meta charset="UTF-8">#}
{#  <title>Solar Energy Prediction</title>#}
{#  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">#}
{#</head>#}
{##}
{#<body>#}
{#  <div class="container mt-4">#}
{#    <h2 class="mb-4">Solar Energy Prediction</h2>#}
{##}
{#    <form id="solarForm">#}
{#      {% csrf_token %}#}
{##}
{#      <div class="row mb-3">#}
{#        <label class="col-sm-4">Date</label>#}
{#        <div class="col-sm-8">#}
{#          <input type="date" class="form-control" id="date" required>#}
{#        </div>#}
{#      </div>#}
{##}
{#      <div class="row mb-3">#}
{#        <label class="col-sm-4">Time</label>#}
{#        <div class="col-sm-8">#}
{#          <input type="time" class="form-control" id="timestamp" required>#}
{#        </div>#}
{#      </div>#}
{##}
{#      <div class="row mb-3">#}
{#        <div class="offset-sm-4 col-sm-8">#}
{#          <button type="button" onclick="generateSolar()" class="btn btn-primary">#}
{#            Generate Solar Energy#}
{#          </button>#}
{#        </div>#}
{#      </div>#}
{##}
{#      <h4 id="result" class="text-success mt-3"></h4>#}
{##}
{#    </form>#}
{#  </div>#}
{##}
{#<script>#}
{#function generateSolar() {#}
{##}
{#    const csrfToken = document.querySelector('[name=csrfmiddlewaretoken]').value;#}
{##}
{#    const data = {#}
{#        date: document.getElementById("date").value,#}
{#        timestamp: document.getElementById("timestamp").value#}
{#    };#}
{##}
{#    fetch("/myapp/solarinput_post/", {#}
{#        method: "POST",#}
{#        headers: {#}
{#            "Content-Type": "application/json",#}
{#            "X-CSRFToken": csrfToken#}
{#        },#}
{#        body: JSON.stringify(data)#}
{#    })#}
{#    .then(response => response.json())#}
{#    .then(result => {#}
{##}
{#        if(result.error){#}
{#            document.getElementById("result").innerHTML = result.error;#}
{#        } else {#}
{#            document.getElementById("result").innerHTML =#}
{#                "Expected Solar Generation: " + result.solar_generation;#}
{#        }#}
{#    })#}
{#    .catch(error => {#}
{#        document.getElementById("result").innerHTML = "Server Error";#}
{#        console.error(error);#}
{#    });#}
{#}#}
{#</script>#}
{##}
{#</body>#}
{#</html>#}
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Solar Energy Prediction</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
</head>

<body>
  <div class="container mt-4">
    <h2 class="mb-4">Solar Energy Prediction</h2>

    <form id="solarForm">
      {% csrf_token %}

      <div class="row mb-3">
        <label class="col-sm-4">Date</label>
        <div class="col-sm-8">
          <input type="date" class="form-control" id="date" required>
        </div>
      </div>

      <div class="row mb-3">
        <label class="col-sm-4">Time</label>
        <div class="col-sm-8">
          <input type="time" class="form-control" id="timestamp" required>
        </div>
      </div>

      <div class="row mb-3">
        <label class="col-sm-4">Apparent Temperature</label>
        <div class="col-sm-8">
          <input type="number" step="any" class="form-control" id="apparenttemperature" required>
        </div>
      </div>

      <div class="row mb-3">
        <label class="col-sm-4">Air Temperature</label>
        <div class="col-sm-8">
          <input type="number" step="any" class="form-control" id="airtemperature" required>
        </div>
      </div>

      <div class="row mb-3">
        <label class="col-sm-4">DewPoint Temperature</label>
        <div class="col-sm-8">
          <input type="number" step="any" class="form-control" id="dewpointtemperature" required>
        </div>
      </div>

      <div class="row mb-3">
        <label class="col-sm-4">Relative Humidity</label>
        <div class="col-sm-8">
          <input type="number" step="any" class="form-control" id="relativehumidity" required>
        </div>
      </div>

      <div class="row mb-3">
        <label class="col-sm-4">Wind Speed</label>
        <div class="col-sm-8">
          <input type="number" step="any" class="form-control" id="windspeed" required>
        </div>
      </div>

      <div class="row mb-3">
        <label class="col-sm-4">Wind Direction</label>
        <div class="col-sm-8">
          <input type="number" step="any" class="form-control" id="winddirection" required>
        </div>
      </div>

      <div class="row mb-3">
        <div class="offset-sm-4 col-sm-8">
          <button type="button" onclick="generateSolar()" class="btn btn-primary">
            Generate Solar Energy
          </button>
        </div>
      </div>

      <h4 id="result" class="text-success mt-3"></h4>

    </form>
  </div>

<script>
function generateSolar() {

    const csrfToken = document.querySelector('[name=csrfmiddlewaretoken]').value;

    const data = {
        date: document.getElementById("date").value,
        timestamp: document.getElementById("timestamp").value,
        apparenttemperature: document.getElementById("apparenttemperature").value,
        airtemperature: document.getElementById("airtemperature").value,
        dewpointtemperature: document.getElementById("dewpointtemperature").value,
        relativehumidity: document.getElementById("relativehumidity").value,
        windspeed: document.getElementById("windspeed").value,
        winddirection: document.getElementById("winddirection").value
    };

    fetch("/myapp/solarinput_post/", {
        method: "POST",
        headers: {
            "Content-Type": "application/json",
            "X-CSRFToken": csrfToken
        },
        body: JSON.stringify(data)
    })
    .then(response => response.json())
    .then(result => {

        if(result.error){
            document.getElementById("result").innerHTML = result.error;
        } else {
            document.getElementById("result").innerHTML =
                "Expected Solar Generation: " + result.solar_generation + " kWh";
        }
    })
    .catch(error => {
        document.getElementById("result").innerHTML = "Server Error";
        console.error(error);
    });
}
</script>

</body>
</html>